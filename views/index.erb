<% if @error %>
  <div class="error">
    <%= @error %>
  </div>
<% end %>

<h1>Wormhole Allocation Checker</h1>

<form action="/check" method="post">
  <div class="form-group">
    <label for="address">Address:</label>
    <input type="text" id="address" name="address" required>
  </div>

  <div class="form-group">
    <label for="chain">Chain:</label>

    <select name="chain" id="chain">
    <% WormholeAllocationChecker::CHAINS.each do |name, id| %>
      <option value="<%= id %>"><%= name %></option>
    <% end %>
    </select>
  </div>

  <button type="submit">Check Allocation</button>
</form>

<% if @result %>
<div class="result">
<h2>Your Allocation</h2>
<p><b>Address: </b> <%= params[:address] %></p>
<p><b>Chain: </b> <%= WormholeAllocationChecker::CHAINS.invert[params[:chain].to_i] %></p>
<p><b>Allocation: </b> <%= @result %></p>
</div>
<% end %>
